language: c
os: linux
compiler:
 - gcc
 - clang
before_install:
 - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
 - sudo add-apt-repository -y ppa:andykimpe/cmake
 - sudo add-apt-repository -y ppa:enlightenment-git/ppa
 - sudo apt-get -q update
install:
 - if [ "$CC" = "clang" ]; then sudo apt-get install -y libstdc++-4.8-dev; fi
 - if [ "$CC" = "gcc" ]; then sudo apt-get install -y gcc-4.8 g++-4.8; fi
 - sudo apt-get install -y libjack-dev libelementary-dev libsqlite3-dev cmake=2.8.12.2-3
before_script:
 - if [ "$CC" = "gcc" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
 - mkdir build && pushd build
 - cmake -DCMAKE_BUILD_TYPE=Release ..
 - popd
script:
 - pushd build && make && sudo make install && popd
